<!DOCTYPE HTML>
<html>
	<head>
		
		<title>Name Your Favorite Color</title>
		
		<link rel="stylesheet" href="js/apps/colors/resources/css/colors.css" type="text/css" />
		<link rel="Stylesheet" type="text/css" href="jpicker/css/jPicker-1.1.6.css">
		<link rel="Stylesheet" type="text/css" href="jpicker/jPicker.css">
		
		<script src="js/libs/jquery-1.6.1.min.js"></script>
		<script type="text/javascript" src="js/libs/handlebars.1.0.0.beta.3.js"/></script>
		<script src="js/libs/json2.js"></script>
		<script src="js/libs/underscore.js"></script>
		<script src="js/libs/backbone.js"></script>
		<script src="jpicker/jpicker-1.1.6.js"></script>
		<script src="js/apps/colors/utilities/colorutils.js"></script>
		<script src="js/app.js"></script>
		<script src="js/apps/colors/models/color.js"></script>
		<script src="js/apps/colors/collections/colors.js"></script>
		<script src="js/apps/colors/controllers/colors.js"></script>
		<script src="js/apps/colors/views/edit.js"></script>
		<script src="js/apps/colors/views/index.js"></script>
		<script src="js/apps/colors/views/components/colorpicker.js"></script>
		<script src="js/apps/colors/views/components/canvas.js"></script>
		<!--<script src="js/apps/colors/views/components/interaction.js"></script>-->
	</head>
	<body>
		
		<div id="header">
			<div id="background-black" class="bg-swatch"></div><div id="background-white" class="bg-swatch"></div><div id="background-gray" class="bg-swatch"></div>
			<div style="clear:both"></div>
		</div>
		
		<div id="app"></div>
		<!--test-->
		<!--<canvas id="canvas" id="canvas"></canvas>-->
		
		<!--controls the background-->
		<script>
			$("#background-black").click( function(){
				$("body").css("background-color", $("#background-black").css("background-color") );
			});
			$("#background-white").click( function(){
				$("body").css("background-color", $("#background-white").css("background-color"));
			});
			$("#background-gray").click( function(){
				$("body").css("background-color", $("#background-gray").css("background-color"));
			});
		</script>
		<!--register handlebars templates-->
		<script>
			Handlebars.registerHelper('color-list', function(items, fn) {
			var textColor
			  var out = "<div id='colors'>";
			 for(i=items.length; i--;) {
				 textColor = ( colorValue( "#" + items[i].get("color").color ) > 220 ) ? "#999" : "#fff";
				console.log( colorValue( "#" + items[i].get("color").color ) );
				console.log( "textColor", textColor );
			     out = out + "<div class='color' style='background-color:#" + items[i].get("color").color + "'"
						   + "data-name='" + items[i].get("color").name
						   + "'>"
								+ "<div class='color-name'>"
									+ "<span " 
									+ "style='color:" + textColor + "' >"
									+ items[i].get("color").name + "</span>"
								+ "</div>"
						  + "</div>";
			  }
			  return out + "</div>";
			});
		</script>
		
		<!--handlebars templates-->
		<script id="colors-template" type="text/x-handlebars-template">
			{{#color-list models}}{{/color-list}}
		</script>
		
		<script id="colors-edit" type="text/x-handlebars-template">
			<form>
				<label for='name'>Name</label>
				<input name='name' type='text'>
				<label for='color'>Color</label>
				<input name='color' type='text'>
				<button>{{buttonLabel}}</button>
			</form>
		</script>
		
		<!--start the app-->
		<script type="text/javascript">
		    $(function() {
		        App.init();
		    });
		</script>
		
	</body>
</html>